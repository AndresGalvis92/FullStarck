{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useProductos.js\nimport { useState, useEffect } from 'react';\nimport { getProductos, addProducto, updateProducto, deleteProducto } from '../services/productosService';\nconst useProductos = () => {\n  _s();\n  const [productos, setProductos] = useState([]);\n  const [producto, setProducto] = useState({\n    nombre: '',\n    codigo: '',\n    inventario: '',\n    marca: '',\n    valor: ''\n  });\n  const [productoIdParaEditar, setProductoIdParaEditar] = useState(null);\n\n  // Cargar productos al iniciar\n  useEffect(() => {\n    fetchProductos();\n  }, []);\n\n  // Obtener productos\n  const fetchProductos = async () => {\n    const {\n      data\n    } = await getProductos();\n    setProductos(data);\n  };\n\n  // Guardar producto (crear o actualizar)\n  const guardar = async () => {\n    if (productoIdParaEditar) {\n      await updateProducto(productoIdParaEditar, producto);\n      setProductoIdParaEditar(null);\n    } else {\n      await addProducto(producto);\n    }\n    fetchProductos();\n    resetProducto();\n  };\n\n  // Eliminar producto\n  const eliminar = async id => {\n    await deleteProducto(id);\n    fetchProductos();\n  };\n\n  // Cargar producto para editar\n  const cargarProductoParaEditar = prod => {\n    setProductoIdParaEditar(prod.id);\n    setProducto(prod);\n  };\n\n  // Resetear formulario\n  const resetProducto = () => {\n    setProducto({\n      nombre: '',\n      codigo: '',\n      inventario: '',\n      marca: '',\n      valor: ''\n    });\n  };\n  return {\n    productos,\n    producto,\n    setProducto,\n    guardar,\n    eliminar,\n    cargarProductoParaEditar,\n    productoIdParaEditar\n  };\n};\n_s(useProductos, \"HF9PJBSSTnln9k1UGHEiIodsYsQ=\");\nexport default useProductos;","map":{"version":3,"names":["useState","useEffect","getProductos","addProducto","updateProducto","deleteProducto","useProductos","_s","productos","setProductos","producto","setProducto","nombre","codigo","inventario","marca","valor","productoIdParaEditar","setProductoIdParaEditar","fetchProductos","data","guardar","resetProducto","eliminar","id","cargarProductoParaEditar","prod"],"sources":["C:/Users/DELL/OneDrive - ciaf.edu.co/PROYECTOS/fullstack v4/FullStarck/frontend/src/hooks/useProductos.js"],"sourcesContent":["// src/hooks/useProductos.js\r\nimport { useState, useEffect } from 'react';\r\nimport { getProductos, addProducto, updateProducto, deleteProducto } from '../services/productosService';\r\n\r\nconst useProductos = () => {\r\n  const [productos, setProductos] = useState([]);\r\n  const [producto, setProducto] = useState({ nombre: '', codigo: '', inventario: '', marca: '', valor: '' });\r\n  const [productoIdParaEditar, setProductoIdParaEditar] = useState(null);\r\n\r\n  // Cargar productos al iniciar\r\n  useEffect(() => {\r\n    fetchProductos();\r\n  }, []);\r\n\r\n  // Obtener productos\r\n  const fetchProductos = async () => {\r\n    const { data } = await getProductos();\r\n    setProductos(data);\r\n  };\r\n\r\n  // Guardar producto (crear o actualizar)\r\n  const guardar = async () => {\r\n    if (productoIdParaEditar) {\r\n      await updateProducto(productoIdParaEditar, producto);\r\n      setProductoIdParaEditar(null);\r\n    } else {\r\n      await addProducto(producto);\r\n    }\r\n    fetchProductos();\r\n    resetProducto();\r\n  };\r\n\r\n  // Eliminar producto\r\n  const eliminar = async (id) => {\r\n    await deleteProducto(id);\r\n    fetchProductos();\r\n  };\r\n\r\n  // Cargar producto para editar\r\n  const cargarProductoParaEditar = (prod) => {\r\n    setProductoIdParaEditar(prod.id);\r\n    setProducto(prod);\r\n  };\r\n\r\n  // Resetear formulario\r\n  const resetProducto = () => {\r\n    setProducto({ nombre: '', codigo: '', inventario: '', marca: '', valor: '' });\r\n  };\r\n\r\n  return {\r\n    productos,\r\n    producto,\r\n    setProducto,\r\n    guardar,\r\n    eliminar,\r\n    cargarProductoParaEditar,\r\n    productoIdParaEditar,\r\n  };\r\n};\r\n\r\nexport default useProductos;\r\n"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,YAAY,EAAEC,WAAW,EAAEC,cAAc,EAAEC,cAAc,QAAQ,8BAA8B;AAExG,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC;IAAEY,MAAM,EAAE,EAAE;IAAEC,MAAM,EAAE,EAAE;IAAEC,UAAU,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAC1G,MAAM,CAACC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;;EAEtE;EACAC,SAAS,CAAC,MAAM;IACdkB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMlB,YAAY,CAAC,CAAC;IACrCO,YAAY,CAACW,IAAI,CAAC;EACpB,CAAC;;EAED;EACA,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAIJ,oBAAoB,EAAE;MACxB,MAAMb,cAAc,CAACa,oBAAoB,EAAEP,QAAQ,CAAC;MACpDQ,uBAAuB,CAAC,IAAI,CAAC;IAC/B,CAAC,MAAM;MACL,MAAMf,WAAW,CAACO,QAAQ,CAAC;IAC7B;IACAS,cAAc,CAAC,CAAC;IAChBG,aAAa,CAAC,CAAC;EACjB,CAAC;;EAED;EACA,MAAMC,QAAQ,GAAG,MAAOC,EAAE,IAAK;IAC7B,MAAMnB,cAAc,CAACmB,EAAE,CAAC;IACxBL,cAAc,CAAC,CAAC;EAClB,CAAC;;EAED;EACA,MAAMM,wBAAwB,GAAIC,IAAI,IAAK;IACzCR,uBAAuB,CAACQ,IAAI,CAACF,EAAE,CAAC;IAChCb,WAAW,CAACe,IAAI,CAAC;EACnB,CAAC;;EAED;EACA,MAAMJ,aAAa,GAAGA,CAAA,KAAM;IAC1BX,WAAW,CAAC;MAAEC,MAAM,EAAE,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,UAAU,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAG,CAAC,CAAC;EAC/E,CAAC;EAED,OAAO;IACLR,SAAS;IACTE,QAAQ;IACRC,WAAW;IACXU,OAAO;IACPE,QAAQ;IACRE,wBAAwB;IACxBR;EACF,CAAC;AACH,CAAC;AAACV,EAAA,CAtDID,YAAY;AAwDlB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}